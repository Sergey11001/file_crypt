{"ast":null,"code":"var _jsxFileName = \"/home/sergey/WebstormProjects/univer/filecrypt/src/index.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter as Router, Routes, Route, useLocation, Navigate } from 'react-router-dom';\nimport './index.css';\nimport SignIn from './components/Auth/SignIn';\nimport SignUp from './components/Auth/SignUp';\nimport FileStorage from './pages/FileStorage';\nimport { AuthProvider, useAuth } from \"./context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ProtectedRoute({\n  children\n}) {\n  _s();\n  const {\n    isAuthenticated,\n    loading\n  } = useAuth();\n  const location = useLocation();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 16\n    }, this);\n  }\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/signin\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 16\n    }, this);\n  }\n  return children;\n}\n_s(ProtectedRoute, \"fNj96oVmPd4sFazcimgf9N7S8ao=\", false, function () {\n  return [useAuth, useLocation];\n});\n_c = ProtectedRoute;\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(/*#__PURE__*/_jsxDEV(React.StrictMode, {\n  children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 29,\n  columnNumber: 5\n}, this));\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","ReactDOM","BrowserRouter","Router","Routes","Route","useLocation","Navigate","SignIn","SignUp","FileStorage","AuthProvider","useAuth","jsxDEV","_jsxDEV","ProtectedRoute","children","_s","isAuthenticated","loading","location","fileName","_jsxFileName","lineNumber","columnNumber","to","state","from","replace","_c","root","createRoot","document","getElementById","render","StrictMode","App","$RefreshReg$"],"sources":["/home/sergey/WebstormProjects/univer/filecrypt/src/index.js"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter as Router, Routes, Route,  useLocation, Navigate } from 'react-router-dom';\nimport './index.css';\n\nimport SignIn from './components/Auth/SignIn';\nimport SignUp from './components/Auth/SignUp';\nimport FileStorage from './pages/FileStorage';\nimport {AuthProvider, useAuth} from \"./context/AuthContext\";\n\nfunction ProtectedRoute({ children }) {\n    const { isAuthenticated, loading } = useAuth();\n    const location = useLocation();\n\n    if (loading) {\n        return <div>Loading...</div>;\n    }\n\n    if (!isAuthenticated) {\n        return <Navigate to=\"/signin\" state={{ from: location }} replace />;\n    }\n\n    return children;\n}\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>\n);"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,SAASC,aAAa,IAAIC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAGC,WAAW,EAAEC,QAAQ,QAAQ,kBAAkB;AACjG,OAAO,aAAa;AAEpB,OAAOC,MAAM,MAAM,0BAA0B;AAC7C,OAAOC,MAAM,MAAM,0BAA0B;AAC7C,OAAOC,WAAW,MAAM,qBAAqB;AAC7C,SAAQC,YAAY,EAAEC,OAAO,QAAO,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5D,SAASC,cAAcA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAClC,MAAM;IAAEC,eAAe;IAAEC;EAAQ,CAAC,GAAGP,OAAO,CAAC,CAAC;EAC9C,MAAMQ,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAE9B,IAAIa,OAAO,EAAE;IACT,oBAAOL,OAAA;MAAAE,QAAA,EAAK;IAAU;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAChC;EAEA,IAAI,CAACN,eAAe,EAAE;IAClB,oBAAOJ,OAAA,CAACP,QAAQ;MAACkB,EAAE,EAAC,SAAS;MAACC,KAAK,EAAE;QAAEC,IAAI,EAAEP;MAAS,CAAE;MAACQ,OAAO;IAAA;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACvE;EAEA,OAAOR,QAAQ;AACnB;AAACC,EAAA,CAbQF,cAAc;EAAA,QACkBH,OAAO,EAC3BN,WAAW;AAAA;AAAAuB,EAAA,GAFvBd,cAAc;AAgBvB,MAAMe,IAAI,GAAG7B,QAAQ,CAAC8B,UAAU,CAACC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC;AACjEH,IAAI,CAACI,MAAM,cACPpB,OAAA,CAACd,KAAK,CAACmC,UAAU;EAAAnB,QAAA,eACbF,OAAA,CAACsB,GAAG;IAAAf,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACO,CACtB,CAAC;AAAC,IAAAK,EAAA;AAAAQ,YAAA,CAAAR,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}